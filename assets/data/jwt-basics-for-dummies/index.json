{"hash":"4e373d94e50f9bdb980bf2135cb217fd8ba53ae1","data":{"post":{"title":"The basics of JWT (JSON Web Tokens) for Dummies","date":"August 3, 2021","content":"<p>JSON Web Tokens are a proposed internet standard that allows for stateless authentication.</p>\n<h2 id=\"use\"><a href=\"#use\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Use</h2>\n<p>JWT are mostly used to authenticate users in the context of websites / web application.</p>\n<h2 id=\"example\"><a href=\"#example\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Example</h2>\n<p>Before going into the nitty-gritty here is a simple example of its usage:</p>\n<p>Let's say we have a Web Application called Tweeter, this Web Application can do a bunch of fancy stuff but let's focus\non the user profile. Now obviously each user should only be able to access their own user profile settings.</p>\n<p>So very simply User with ID 123 should only be able to access profile settings of User ID 123.</p>\n<p><strong>Here is how the authentication flow could look like:</strong></p>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 561 491' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-3e922e35334693f31db3a7bdb705a4f6'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-3e922e35334693f31db3a7bdb705a4f6)' width='561' height='491' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAA4CAYAAABNGP5yAAAACXBIWXMAAAsSAAALEgHS3X78AAAM/klEQVRo3tWa%2bVMbRxbH9f9XpVJOKr9uebPZ7Ca7CbaXxdjG3GBznzYYc0joQOhEB0L32/dp8cQw1oEElNdT1TX3dPf3fd/ZE3j%2b/LkcHx/L0dGRfPr0Sfb3992ednp6KlNTU3J2diZszWZTHmKz7xQKBZmYmHB9fvz4UXZ3d92evg8PD%2bXk5ETm5%2bclEoncuX%2besefi8bh8%2bPBBdnZ2XOPbm5ubsrq6KktLS25%2bgb29PSmXy1IsFqVSqcjl5aXkcjl3bNcZ0H0BsHe9A0wmkxIKhXq%2bV6vV5PPnz7fe7dfYzs/PHbC9trW1tRYA7969k7GxMYcWCL148UK2t7dlbm7OsYNn2Or1ujQajQdpbIlEwn2fLZ1OOwkdHBxIMBh09%2bw67GTjPe8kO232bd6BvdlsVq6urtzYAZM9QobVzDGABJD2xsaGQ4Rz6Pfq1as2E6DPY2xIiQmzXVxcyNbWlszOzjp6GjMYqD3Tiep%2bYL30R3DQfHl5WdbX1x2TETLM4PsAE0DP8vm86/T169dO33hoZWVFUqmUe2hxcdF9CGCgo7d5rzFQmtkQOmIQ1rjGc0iY/ZMnTxzoDHBhYcEBzTF9c4xQGDjnMIJB8x62ArCQIHsazzNuxsO3vv/%2bezf%2bfluAl3hhcnLSdcZ%2bZmbGqQKgMGhoChsymUzPBl2t0bm/cZ3nkDa2BcozcPowo2RAQWGEw4QYC/YIowl9S6WSO4ed1WrVUdsa17gPSGY8jREAyjeMQXwjEA6H3YMgT6cMCsnROKdDBvYYG6DSD%2bBA/Tdv3jivMD097YQAGLCzkwr02zCwXgBgzrNnz9q2xdQlEI1GXScmcYDATUArs/5Iwm%2bE7tsMgH5eAImaobxL/2YEY7FYe9zdNuYeAGmjDkBAESgEtdjQV2PAQ8cB9AfQWGb6RS3ol7HQmAzCGDQOMI%2bF7eB9xo/aYc9QBb5nNiYAUtADaaM33MC4QD/0DzUwVB8aAPYMCIrDPBg4OjratkFcR0re5wf5vnkR7ByNuTB5%2bjRbEBh00HcJcjoFPXf9HpNGUoP03y/g6hUzBLw%2bFNpY817rJIEvJ6osaXoH0ug6GO%2b59YMasqHv0NXudet/EBC62Y6hGeCffPs6ulctaIe1L9/rIJFOEyJ6wxYMy4BBN2cDMHTWcIvmGi0KM4Pon3RbinX1x%2bldqUbmpBZZdPvq%2bZrUy9kbwLrQk7gAT4A7RE9/%2bOEH1yeu0ezTQ9ugWwAQ%2bOCO8I9MmE6tQUUGZW6oNQDf5Kt5qYSnpXE6p35lWduq%2bqAVaYYViOAbqRXCXXUTb4OxI143L8A9C3a4hpdAII8GAJa%2b32bJyG0d4rwulcisSPi9mtsNnbhO/kwlH17S4zVt6wrChDIh09FIAjxWHj0nCqUfPBH%2bmxAZEPz9PzgAljISheGK6JjYn8bAoL83Hb3Rdk1V8ydSD01fT35FVl7%2bLGO/PJHNN79KM7riQGiGF6SaWL/1nn2H0JjJAgR5P%2b73/fv3Tupv3751rIQVgOLN9B4UAPs4VOeYQUBLgMAy0ynpMoEJA3cxN8FKrSHl%2bLqboEk9uvFSQiujkt2bcgA0FRRUohKZl/JVQaq1m5TUq//YG/IRQGccBC6cI3nUkIDl0QBgwkiA4MMyMqRCPG6h8E8//eRidZhg4CwsLsjp5qhmGWvSQNrnOsj0tkhKW3JTr6%2b3WBDfkOz%2buCzOTyqQS26SSNkiMSaPjhO1MXkCMIwx/XOMHaC/RwPA0MUAMjh0kQ4tlUQPTQXaA7imcC21I42QGr/EluzN/lt2p36T1Ie3sjXxD9mf%2b0MZsOoMYy22qORvtNXAawOIymDByMiIAwHwUUtUEkZiEB8VACt2QHEyQbMB6KcBYIbS7/5ql2dSC75VALbl6N0zOZj/UxI7b2Rn8p9ysvTc2YbG6ay6yA/t4MifC5irxf/TPyxkjz3iOgyAGY8GgNG824a%2bet1g24pfT6JyvqosmFHaK5DJLUd9t%2bc88r7lIjVO6OQFmBwMQM/Rd4yeJS7s6RcGfGmEHxAA6n6UpvD7UBEKopNIBiMF%2bpZD%2b6NB21cTa1I9mVBpL0gzsiwNjQFqwUmpROc0Tih2jQOw8KgcQNAXfTIW%2brPCCdmchcaPAgBWmcmDNgBQHLXqDEBYWNpt8u3qbSkuVbUJ1fiKArKpLjLkoXyj6zewA/RDf0gaw8ceRnCNqs2jhsL%2bC%2bifId5rwreu%2bfKB5h2zs2GTm05JzbAABewj5psxguiltwLTbwKWDbbB8J7fIRu07NObjXqz0n4VIG%2buMCgQAXvRPoJb7KTzfUTUUULee/0Y9ZBFlnsBgFs0F/hYeuf9NvGGFWTx/8QCRJ403DF7Aier7TM%2b7IQt5xFC3ydX%2bAIA3OKgVrdXRagXAzBwTApXZ7VAqkGdmpXBrfG8vQNAVjccNFYI%2bKuptlDSdUI9bUDDU/xodDeUHg9A2HtftgGCLd8NpQL%2bmhwS6VeR6T65Rlcv4L9GP6TDXsl1M5a9znnXSuADA8AgCDrw9xz/%2bOOPLuGxVRyKFd0m094TBxSjUtUIsBpf1ThgQ2q5I1cv6PUeDDD9tajT7328i7LdgIABtngyMACsB1oEiGGh2VofeoWOEp11jwPqUtHgpx6adFWhpqbFRISN0LSmwTPSqOS7xgNEgC9fvnSBlxk/IlPozN5lnZobEI2SjWIU7T8CxkUGy3O8N2y4HOi3egLyVjT5wg%2b7XGBFJzvbKopoViiprVZqzHlkSaouFyh3tCmwi4mzB2T7FwFLDyiWHiMIokImjpvmOoYad817qBHADAUAmR6NDxCSAggqQKe2KMp5x2ywGHOSt3IYKfD70acuNXa1AMsGNUR2EWLjJuCxipB/6R2VYEJIHHYiYcZH3QKw%2bHcBcLwb3mBoAGwJGzrZ0jaFUq6BNgjbx2%2bMXksf6%2bndVjH0bN1VhD5M/y7LY391VSFXJGnXA975AmRpA2C5vl/P%2b21eO0HK7mXpQACAOMkQgYb9F2AVGiuWIAUkRWZGcwHJ7o4kD6Z08qs3FaHMTqtRGdLzFgvUzx9Pyv7epmxt77gJwyjad9991%2b7DWOFfzCBZIw7A0HUKzy2eGNoGQC0%2bzuShFhNl8tAQCXEPVjAIkG4FJiUpXVWlpBJ2NUGdbGxjXCJrY1L4POcYwLmrCGmrhOdVvy/U6BVVd7NtrwP4XgD8E8MroQb8rWLxgj83MC/gL9rcGQCjIEaFiUN/9MzcE4PotoRdL4Q0759yxY/NiV9ldfxvEl1/KQsv/uKqQs12VXij4/v0CZturTP4JMzkYEGvpIxnhg2HA1797lYR6r4u0HBFj2ZYdfz8uhoUu9b9%2bIYri1dDE1KvXNxaL/TmAcYAaOy1AfZTk3fzLppy39TiXgBQi7Pf4ZAIVt9%2bQcG6ohq3Vmb8y2K1YsvfUxaLLLcWRCiJn867yeMp/EUR77qAMQAmQnWKoSQ4ZoNYH6DhAlEHJsp4iA/Gx8fbv8bcXr0aAAB%2bJcGA8AG8AMe4QnSOPff7RYKNhiYmmY9SVWtfi%2bjEo4uuKlSv5Hq%2bhy1gEcSCIgRAf%2bxteQyWcI1jhGOJEbED58aGoUPhu2Z7PXMBTx7QqJUcIN5r3VaUSbq8ofCwG6pjdmpgAAb5p6dfNnj7Xu%2bKkOUCJjlvVajTPwudfrY01wl7hlaBhyhsNHtUhJo96gHYGOKKTn%2bEDLJhR8xODVwPkK%2b0eQ0hBQ0oTOwBI1AL7BHRqIXA7GkYQ6I%2bnqOMbsHZvWqCX2vy3sHm8jln8EhwKMoSnTJBgGGdEINJWI5BTKWSet5K1wvFwr3%2bIvnqAPQbc6VckZ3t3T4fHE76/xcqUG/U5LJSkGI5J4WrC8mXsq5dXKalJmVZXJ6TX377WRp6li%2bpeyzntRXcO6VKUa6ql64Ny4KvyoBqvSKnmSM5y4UlnDmRk9Rn14LXLaT3jhMHchjfk0g26J6JZEMSuwhrO9X3InKej%2bk3jiVZOPv2AECKUZ3IpUowq1LPqoRzKuGCXr%2bslqSgki6olC81tri4ymnT%2b9d77l2Ubs4B8ZsDIH%2bVdZJMFVOSukxJppTR46SkC2lJqwokCxoV6jPxXFwSxYRkLjOS1H1Wn%2bM%2b%2b4w7TsnZxem3BwB6niqdy8LKgoyMjsjIf0dkemFKXk2%2bcsdP//5UXk2Py9jkmPz5nz/kxfgLeT3zWpY3l2Vy/q3869nvMvtuxoEXzQa/PQBypbTElLqRZET2g/tyFDmU03PV7WxMTqLHchj5LAfhTxKKh9z9g5AenwUleB6U49ix7J3sSTAeVNYkvk0GYPljashKtSvVc7Xm9Sspqj1A7wtV1XG9j/4Xq5wXpdzQrFWfy1fy7rxQK7r38mo3zvPRbw%2bASq0s%2b/FtOU4dyFFSGZDYl%2bPkJwmmD7UdyWn62Fn%2bkB6zt2Pu8/xhYs89zz5ViA8FwP8AW9P1s/nd6vEAAAAASUVORK5CYII=' /%3e%3c/svg%3e\" width=\"561\" alt=\"Web Push Overview\" data-srcset=\"/assets/static/JWT-1.c4cd2dc.4bf1f5d586c8015b8b0bd2babd407902.png 561w\" data-sizes=\"(max-width: 561px) 100vw, 561px\" data-src=\"/assets/static/JWT-1.c4cd2dc.4bf1f5d586c8015b8b0bd2babd407902.png\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/JWT-1.c4cd2dc.4bf1f5d586c8015b8b0bd2babd407902.png\" width=\"561\" alt=\"Web Push Overview\"></noscript></p>\n<p>Looking at this diagram you'll notice two things:</p>\n<p><strong>1.</strong><br>\nOnce the User/Browser has the Token, the DB is no longer needed to authenticate the user.\n<strong>This is why it's called stateless authentication.</strong></p>\n<p><strong>2.</strong><br>\nWith the Token, we can send information about the user, in this example the ID.<br>\nThis information can then be verified using the Secret Key.</p>\n<h2 id=\"the-jwt\"><a href=\"#the-jwt\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>The JWT</h2>\n<p>The Token itself is either send via Cookie or via <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Authorization Header</a>.</p>\n<p>E.g.:</p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #d8dee9ff\">Authorization:\nBearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJleHAiOjE2Mjc5MjgyMzksInVzZXJSb2xlcyI6WyJBRE1JTiIsIkRCX1JFQUQiLCJEQl9XUklURSJdLCJ1c2VySWQiOjEyMzQ1LCJpYXQiOjE2Mjc5MjgxMTl9.8vTwsBOp8LSa0sdc0nWAUnmWAAgOnS0ElB3bfaiSRfQ</span></span></code></pre>\n<p>The mangled mess of letters and numbers is nothing more than <strong>encoded</strong> JSON. Notice that it is <strong>encoded</strong> not\n<strong>encrypted</strong> that means we can easily decode it.</p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #81A1C1\">JSON</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">parse</span><span style=\"color: #D8DEE9FF\">(</span><span style=\"color: #88C0D0\">atob</span><span style=\"color: #D8DEE9FF\">(</span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #A3BE8C\">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9</span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #D8DEE9FF\">)) </span><span style=\"color: #616E88\">// This will return: {alg: &quot;HS256&quot;, typ: &quot;JWT&quot;}</span></span></code></pre>\n<p>Using the <a href=\"jwt.io\">jwt.io</a> website we can make it really easy for ourselves. Just paste the JWT and get the decoded JSON data.</p>\n<p><img class=\"g-image g-image--lazy g-image--loading\" src=\"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 1182 724' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-29b763331e049da403af18245403d959'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-29b763331e049da403af18245403d959)' width='1182' height='724' xlink:href='data:image/png%3bbase64%2ciVBORw0KGgoAAAANSUhEUgAAAEAAAAAnCAIAAAAw%2btlrAAAACXBIWXMAAAsSAAALEgHS3X78AAAFoElEQVRYw9VZCXPiOgzu//9Tr7Ptezuz24OWAuUKUO4j5PARJ7asJzuFsts9phQ6RaPxKLZj67NkSYGzRqNRr9cHg0Gn07m%2bvq5UKrPZDBHNDllr8e1UvhVF0c3NTavVoi1o8Wq1WqvVlFI0Wi4OANuNSH7rLme04tXVFWGg9vz8/OLiYrFYZFkmpRRCcM4ZY0VR7A0gjuOvnh4eHr58%2bXJ5eXl7eyt2iG8oTVMC9mYAv9v4p579aD/Yb6IzrTXZzrVgNLE3pLGw2wIx%2bJYY/YO1nnf6nz0BtkRrlnuQEebzORl2e96ZJ3okO5fWhr2ItjijPZFOCixmGnmOuUFlnEytzDErUBbIlOsnQWlMM9fyzVABbpQEesVYJB/enLuH6Wi1Wg2Hw%2bl0WjoktVvnobYEsJ%2bFybfPnPorhtUBVnv4Xx1vA1t/wrse3gVY6eFtFztjPK9iMMHvLXzo40XdtdddvO/ZfxtYCexlw71SDdRMqP6LM5QAyqN6dg%2bwz05SWtDarc/sZwEPgCxgsBjqYmbzEeqFJS4mVnUsSFR9ktFESEPUSUKxQJqpXYvFCPKB0WvUsTWxzadWNtAWPwKwzresUPtciL/RxoUM5mNUPVQB5hPfDjFrORXzgeuX967N2oTBzSxGbo4bfSKEWIxdP00o/LtWv7KAASyM8715Ugq2v7TDEHN9CAC0vHQaizuntElQPaFeeeUC10MY6JEUdRiaPzy6CQ0nOMB1zAnMFEH92oXsPLH3Q3d/YmG/dXESoQa0BwJAx6nn3iuoDVGRQn3MF5hPnc%2bokZMVHf/M89RNUFPfs8BsgPnc9zxhsUJrfgWA3D2RdhSiNsiV7S3w7Tnr9wC4B7Dw/hCgCVBdY1FBGCF0sCAjVBF6CAO0EwRykj7qR4Q22ibagZf7aDqo61h0X1mAIGhjWfYqueDBACCFx7rDAGNc5NDm8FRAO4MbZuoMWhyCHGrUZtCWQD1XqakKN%2bF7bG6ZaWbwyOAxg2%2bpCRL4QxTaxCIHCQ5BPgpRjJAoyfopeQWEme5KGJFO3CGpMTPMoCehLaAlTFdAVxga6olyFPoSHlLTFKbv5wxzsPhzHlgul5PJZDQaJUlCsX%2bb4N5PDgCCmRT2n1TTWV5zc8/gMtKV1DBj32nnLQCq5yiXEQzSnnIWAYAD0XMeIFVFYRWgNJYbEpxceN3LxGq98ML2lbBhi/h3F7J2U37YDcZ3WMDlgePQTiIDoFoB7dES2eaYt3xIAKUFAA1DvXSrU6opfCympEFR%2bz37vQA4ogU2LkQVh6KYG7qETaqbNRZLpAiOcCIAKD9Qds8eXf6m1GnhpWo6DQBEdPBUUFHdAdmh78AHARi5qlZ5DFafIABXRA28EcZo8xMC4Pwdge1UQfYwFdGHWsDE/luC6u3UX%2biR%2b5A4KQCRi0IuG8z994O/CVQCn0IeMEARk5iiPiVkCkGGoxE%2bmKpTAZAfZYsPdaHd37k2vzQdqBo9HoBS9dls9thsjsfjTqfTDYJ2u52m6W69/amrUVqfMSYYk4LzNCGBpakQQh2C6OviIwCkjM9SQTz3vOby5RfdV/SHoV/S8e%2bAMWHKvi35/YrfLB03HQKRSSGlyMgUJIg96SMAaPrk5jzmoh051dtr3ot5fc1bEa%2bHvLXm1ZD3Y7FijtdMLFLBPhsA2idk4iHkdyteXfEg4rXQgal5AKU8SrxCQjD%2b%2bSxA%2b0RMBLHsxrKXyEHyLHRix64/Ek%2bx015%2bQhei9csfI3rSJAXMFQykmSrDNcwzmGQm1oB5lkvOP%2bcdMEannK%2bSdBzG1VCQC/UiQRf6aslvl7yxJtcSX%2bd8knC6zfzTAgiTdBnFzUi012KcCHJ6uhJBJOhCP655ZeXCa7YfgPIvpmMQpcnnRJamZYBXnBFLagUrBCsfc%2b5kwVnK9qH/ATHkpc2kITfMAAAAAElFTkSuQmCC' /%3e%3c/svg%3e\" width=\"1182\" alt=\"Web Push Overview\" data-srcset=\"/assets/static/JWT-2.82a2fbd.aa70408b09b2beef165a28f1bbd51a38.png 480w, /assets/static/JWT-2.338e8da.aa70408b09b2beef165a28f1bbd51a38.png 1182w\" data-sizes=\"(max-width: 1182px) 100vw, 1182px\" data-src=\"/assets/static/JWT-2.338e8da.aa70408b09b2beef165a28f1bbd51a38.png\"><noscript><img class=\"g-image g-image--lazy g-image--loaded\" src=\"/assets/static/JWT-2.338e8da.aa70408b09b2beef165a28f1bbd51a38.png\" width=\"1182\" alt=\"Web Push Overview\"></noscript></p>\n<p>The JWT is made up of three parts:</p>\n<p><strong>Header:</strong><br>\nContains information on the signing algorithm that was used.  </p>\n<p><strong>Payload:</strong><br>\nContains the claims. Like UserId and any other information you want to use, but also a bunch of reserved Claims that you can see <a href=\"https://auth0.com/docs/tokens/json-web-tokens/json-web-token-claims#reserved-claims\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a>.</p>\n<p><strong>Footer:</strong><br>\nContains the signature of the token that can be verified with the Secret Key.\nIf the Token gets changed in any way, it won't be valid anymore.</p>\n<p>If you need more input on this topic I highly suggest you watch this <a href=\"https://www.youtube.com/watch?v=67mezK3NzpU\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">presentation</a>, it's great.</p>\n","tags":[{"title":"JWT","path":"/tag/JWT/"},{"title":"Auth","path":"/tag/Auth/"}]}},"context":{}}