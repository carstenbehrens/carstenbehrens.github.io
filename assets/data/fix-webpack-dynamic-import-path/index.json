{"hash":"96d2a1bb6796fa7ca20b79a034439f3c0a9fb1e2","data":{"post":{"title":"How to Fix Webpack Dynamic Import with Wrong Path","date":"November 20, 2020","content":"<p>When using the dynamic import for code splitting you'll need to specify the\n<a href=\"https://webpack.js.org/guides/public-path/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">publicPath</a> option to let Webpack\nknow where your assets are.</p>\n<p>Here is an example:</p>\n<p><strong>webpack.config.js</strong></p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #D8DEE9FF\">output</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  filename</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #A3BE8C\">[name].[contenthash].js</span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #ECEFF4\">,</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  path</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #D8DEE9\">path</span><span style=\"color: #ECEFF4\">.</span><span style=\"color: #88C0D0\">join</span><span style=\"color: #D8DEE9FF\">(</span><span style=\"color: #D8DEE9\">__dirname</span><span style=\"color: #ECEFF4\">,</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #A3BE8C\">public/__assets</span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #D8DEE9FF\">)</span><span style=\"color: #ECEFF4\">,</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  publicPath</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #A3BE8C\">/__assets/</span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #ECEFF4\">,</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">},</span></span></code></pre>\n<p><strong>path</strong><br>\nAll our bundle files are saved into the directory specified in this entry.\nSo in my case, all my Javascript files are saved under \"/public/__assets\".</p>\n<p><strong>publicPath</strong><br>\nWhen using the dynamic import, webpack will just generate script tags in your HTML\nthat will point to the files with this prefix added.</p>\n<p>In my case, this would be \"/public/__assets\".</p>\n<p>If you leave this blank <strong>it defaults to \"/\"</strong> meaning that the browser would try\nto find the requested Javascript file under /[chunkname].js</p>\n<p><img src=\"script-tag.jpg\" alt=\"script-tag\"></p>\n<p>If the browser cannot find this file you will see the error:\nUncaught (in promise) ChunkLoadError: Loading chunk failed.</p>\n<p><img src=\"error.jpg\" alt=\"error\"></p>\n","tags":[{"title":"JavaScript","path":"/tag/JavaScript/"},{"title":"Webpack","path":"/tag/Webpack/"},{"title":"Frontend","path":"/tag/Frontend/"}]}},"context":{}}