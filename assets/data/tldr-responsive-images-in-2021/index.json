{"hash":"8d284f39b8f7fd6ee6e44c532e30c7955b76a86b","data":{"post":{"title":"TLDR How to prevent layout shifts from image loading in 2021","date":"November 2, 2020","content":"<p>Preventing layout shifts when loading responsive images used to be quite hacky.</p>\n<p>The most common solution to this problem used to be the <a href=\"https://gist.github.com/ozinepank/f38ea0f1d12e51137dd8\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">\"padding hack\"</a>.</p>\n<p>Don't get me wrong, I don't think it's a bad solution at all, as it solves\nthe problem. But since all modern browsers support the\n<a href=\"https://caniuse.com/mdn-html_elements_img_aspect_ratio_computed_from_attributes\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">needed</a> features nowadays,\nthere is a simpler solution.</p>\n<h2 id=\"the-solution\"><a href=\"#the-solution\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>The Solution</h2>\n<p>Suppose you have an image that is 1920x1080. You want to make it responsive and prevent layout shifts.</p>\n<h3 id=\"1\"><a href=\"#1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>1.</h3>\n<p>Set the height and width of the image in HTML,\nthis does not have to be the actual size of the image It can also be the aspect ratio.</p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #81A1C1\">&lt;img</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">src</span><span style=\"color: #ECEFF4\">=</span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #A3BE8C\">landscape.jpeg</span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">height</span><span style=\"color: #ECEFF4\">=</span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #A3BE8C\">16</span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #8FBCBB\">width</span><span style=\"color: #ECEFF4\">=</span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #A3BE8C\">9</span><span style=\"color: #ECEFF4\">&quot;</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">/&gt;</span></span></code></pre>\n<h3 id=\"2\"><a href=\"#2\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>2.</h3>\n<p>Add this in the CSS for the image.</p>\n<pre class=\"shiki\" style=\"background-color: #2e3440ff\"><code><span class=\"line\"><span style=\"color: #81A1C1\">img</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #ECEFF4\">{</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #D8DEE9\">display</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">block;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #D8DEE9\">width</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #B48EAD\">100</span><span style=\"color: #81A1C1\">%;</span></span>\n<span class=\"line\"><span style=\"color: #D8DEE9FF\">  </span><span style=\"color: #D8DEE9\">height</span><span style=\"color: #ECEFF4\">:</span><span style=\"color: #D8DEE9FF\"> </span><span style=\"color: #81A1C1\">auto;</span></span>\n<span class=\"line\"><span style=\"color: #ECEFF4\">}</span></span></code></pre>\n<p>You can see an example of this working <a href=\"https://codepen.io/jensimmons/pen/mddddPw?editors=1100\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">here</a>.</p>\n<p>Also, check out <a href=\"https://www.youtube.com/watch?v=4-d_SoCHeWE&#x26;feature=youtu.be\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">this</a> video if you want\nan in-depth explanation of why this works.</p>\n","tags":[{"title":"JavaScript","path":"/tag/JavaScript/"},{"title":"Service Worker","path":"/tag/Service%20Worker/"},{"title":"Frontend","path":"/tag/Frontend/"}]}},"context":{}}